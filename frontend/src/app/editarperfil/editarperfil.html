<!-- editarperfil.component.html -->
<div class="editarperfil-wrapper">

    <!-- HEADER ‚Äî mismo gradiente que perfil -->
    <header class="editarperfil-header">
        <div class="editarperfil-header-content">
            <button class="editarperfil-back-btn" routerLink="/perfil">
                <span>‚Üê</span>
            </button>
            <div>
                <h1>Editar perfil</h1>
                <p>Actualiza tu informaci√≥n personal</p>
            </div>
        </div>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="editarperfil-main">

        <!-- TARJETA AVATAR -->
        <section class="editarperfil-card editarperfil-avatar-card">
            <div class="editarperfil-avatar-banner"></div>
            <div class="editarperfil-avatar-body">
                <div class="editarperfil-avatar-wrap">
                    <div class="editarperfil-avatar">
                        <span class="editarperfil-avatar-icon">üë§</span>
                    </div>
                    <button class="editarperfil-avatar-change-btn">
                        <span>üì∑</span>
                    </button>
                </div>
                <p class="editarperfil-avatar-hint">Toca para cambiar tu foto de perfil</p>
            </div>
        </section>

        <!-- TARJETA FORMULARIO -->
        <section class="editarperfil-card">
            <h2 class="editarperfil-section-title">Informaci√≥n personal</h2>

            <form class="editarperfil-form" (ngSubmit)="guardarCambios()">

                <!-- Fila: Nombre + Apellidos -->
                <div class="editarperfil-form-row">
                    <div class="editarperfil-form-group">
                        <label class="editarperfil-label" for="nombre">Nombre</label>
                        <input id="nombre" type="text" class="editarperfil-input" placeholder="Tu nombre"
                            [(ngModel)]="formData.nombre" name="nombre" />
                    </div>
                    <div class="editarperfil-form-group">
                        <label class="editarperfil-label" for="apellidos">Apellidos</label>
                        <input id="apellidos" type="text" class="editarperfil-input" placeholder="Tus apellidos"
                            [(ngModel)]="formData.apellidos" name="apellidos" />
                    </div>
                </div>

                <!-- Fila: Usuario + Correo -->
                <div class="editarperfil-form-row">
                    <div class="editarperfil-form-group">
                        <label class="editarperfil-label" for="usuario">Usuario</label>
                        <input id="usuario" type="text" class="editarperfil-input" placeholder="Tu usuario"
                            [(ngModel)]="formData.usuario" name="usuario" />
                    </div>
                    <div class="editarperfil-form-group">
                        <label class="editarperfil-label" for="correo">Correo electr√≥nico</label>
                        <input id="correo" type="email" class="editarperfil-input" placeholder="Tu correo electr√≥nico"
                            [(ngModel)]="formData.correo" name="correo" />
                    </div>
                </div>

                <!-- Contrase√±a (ancho completo) -->
                <div class="editarperfil-form-group editarperfil-form-group-full">
                    <label class="editarperfil-label" for="contrasena">Contrase√±a</label>
                    <div class="editarperfil-input-password-wrap">
                        <input id="contrasena" [type]="mostrarPassword ? 'text' : 'password'"
                            class="editarperfil-input editarperfil-input-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            [(ngModel)]="formData.contrasena" name="contrasena" />
                        <button type="button" class="editarperfil-password-toggle"
                            (click)="mostrarPassword = !mostrarPassword">
                            <!-- Ojo abierto -->
                            <svg *ngIf="!mostrarPassword" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24" fill="none" stroke="#aaaacc" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                <circle cx="12" cy="12" r="3" />
                            </svg>
                            <!-- Ojo tachado -->
                            <svg *ngIf="mostrarPassword" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24" fill="none" stroke="#6c7fe8" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94" />
                                <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19" />
                                <line x1="1" y1="1" x2="23" y2="23" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- BOTONES DE ACCI√ìN -->
                <div class="editarperfil-actions">
                    <button type="submit" class="editarperfil-btn-guardar">
                        Guardar cambios
                    </button>
                    <button type="button" class="editarperfil-btn-cerrar" (click)="cerrarSesion()">
                        Cerrar sesi√≥n
                    </button>
                    <button type="button" class="editarperfil-btn-eliminar" (click)="eliminarCuenta()">
                        Eliminar cuenta
                    </button>
                </div>

            </form>
        </section>

    </main>

    <!-- NAVEGACI√ìN INFERIOR ‚Äî id√©ntica al perfil -->
    <nav class="editarperfil-bottom-nav">
        <a *ngFor="let item of navItems" class="editarperfil-nav-item" [class.active]="item.route === '/perfil'"
            [routerLink]="item.route">
            <span class="editarperfil-nav-icon">{{ item.icon }}</span>
            <span>{{ item.label }}</span>
        </a>
    </nav>

</div>